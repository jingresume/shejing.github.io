!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("react"),j=d(i),k=a("react-dom"),l=d(k),m=a("@natgeo/pestle"),n=a("@natgeo/componentry/lib/modules/cardstack/CardStack"),o=d(n),p=a("../InfiniteFeed/convertCardStackModel"),q=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"init",value:function(){var a=this.options?(0,p.convertStandAloneModel)(this.options):null;console.group(a),a&&l.default.render(j.default.createElement(o.default,a),this.el)}}]),b}(m.Module);m.Pestle.ModuleManager.register("CardStack",q),c.default=q,b.exports=c.default},{"../InfiniteFeed/convertCardStackModel":2,"@natgeo/componentry/lib/modules/cardstack/CardStack":8,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(a){return a.uri&&(a.link={label:a.button_label,path:a.uri},a.button_icon&&"none"!==a.button_icon&&(a.link.icon={name:"#"+a.button_icon})),a.overrides={backgroundImage:a.image&&a.image.uri,originalImage:null,logoImage:a.logo_image&&a.logo_image.uri,kickerOverride:a.kicker,titleOverride:a.title,originalTitle:null,renditions:a.image&&a.image.renditions},a.display={theme:a.theme&&a.theme.toLowerCase()},a},e=function(a){if(a.length)for(var b=0;b<a.length;b++)a[b]=d(a[b]);return a},f=function(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b]&&a[b].length)for(var c=0;c<a[b].length;c++)a[b][c].cards&&a[b][c].cards.length&&(a[b][c].theme=a[b][c].theme&&a[b][c].theme.toLowerCase(),a[b][c].cards=e(a[b][c].cards));return a},g=function(a){return a.theme=a.theme&&a.theme.toLowerCase(),a.cards&&a.cards.length&&(a.cards=e(a.cards)),a};c.default={convertCardStackModel:f,convertStandAloneModel:g},b.exports=c.default},{}],3:[function(a,b,c){"use strict";var d={loadScripts:function(b){var c=document.querySelectorAll('script[type="text/ng-script"]'),d=c.length;Array.prototype.forEach.call(c,function(c){var e=document.createElement("script");e.onload=function(){d--,d||(a("platform/refresh/scripts/main.js")(),b())},e.async=!0,e.src=c.getAttribute("data-src"),document.body.appendChild(e)})}};d.loadScripts(function(){a("../components/CardStackStandAlone/CardStack.js"),Pestle.init()})},{"../components/CardStackStandAlone/CardStack.js":1,"platform/refresh/scripts/main.js":"platform/refresh/scripts/main.js"}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return e=function(){return a},a}function f(a){if(a&&a.__esModule)return a;if(null===a||"object"!==g(a)&&"function"!=typeof a)return{default:a};var b=e();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)){var h=d?Object.getOwnPropertyDescriptor(a,f):null;h&&(h.get||h.set)?Object.defineProperty(c,f,h):c[f]=a[f]}return c.default=a,b&&b.set(a,c),c}function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}function k(a,b){return!b||"object"!==g(b)&&"function"!=typeof b?m(a):b}function l(a){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function m(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&o(a,b)}function o(a,b){return(o=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var p=f(a("react")),q=d(a("prop-types")),r=d(a("@natgeo/modules-images")),s=d(a("lodash/debounce")),t=d(a("classnames")),u=function(a){function b(){var a;return h(this,b),a=k(this,l(b).call(this)),a.resizeHandler=(0,s.default)(a.checkActiveGradients.bind(m(a)),250),a.state={activeGradients:!1},a}return n(b,a),j(b,[{key:"componentDidMount",value:function(){this.checkActiveGradients(),window.addEventListener("resize",this.resizeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeHandler)}},{key:"checkActiveGradients",value:function(){this.wrapper&&this.setState({activeGradients:this.wrapper.clientWidth>1680})}},{key:"render",value:function(){var a=this,b=this.props,c=b.theme,d=b.image,e=this.state.activeGradients,f=(0,t.default)("imageGradient","imageGradient--theme-".concat(c),{"imageGradient--active":e});return p.default.createElement("div",{className:f,ref:function(b){a.wrapper=b}},p.default.createElement("div",{className:"imageGradient__image"},p.default.createElement(r.default,{lowRezPlaceholder:d.lowRezPlaceholder||!0,aspectRatio:d.aspect_ratio||1,altText:d.alt_text||"",src:d.uri||"",srcset:d.srcset||null})))}}]),b}(p.Component);u.propTypes={theme:q.default.string,image:q.default.object},u.defaultProps={theme:"negative",image:{}};var v=u;c.default=v},{"@natgeo/modules-images":"@natgeo/modules-images",classnames:"classnames","lodash/debounce":"lodash/debounce","prop-types":"prop-types",react:"react"}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b,c=a.data.content_type,d=a.data[c];switch(c){case"image_tiled":var e=a.data.image.uri||"";b=f.default.createElement("div",{className:"multi-bg multi-bg--image-tiled",style:{background:"url(".concat(e,") repeat center center")}});break;case"image":var i={lowRezPlaceholder:d.lowRezPlaceholder||!0,aspectRatio:d.aspect_ratio||1,frameAspectRatio:a.parentHeight/window.innerWidth,altText:d.alt_text||"",src:d.uri||"",srcset:(d.renditions&&d.renditions.length?(0,h.default)(d.renditions):null)||null};b=f.default.createElement("div",{className:"multi-bg multi-bg--image"},f.default.createElement(g.default,i));break;case"gradient":var j=d.palette||"blue";b=f.default.createElement("div",{className:"multi-bg multi-bg--".concat(j.toLowerCase())});break;case"null":default:b=f.default.createElement("div",{className:"multi-bg multi-bg--empty"})}return b}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var f=d(a("react")),g=d(a("@natgeo/modules-images")),h=d(a("../../../util/getSrcSet")),i=e;c.default=i},{"../../../util/getSrcSet":17,"@natgeo/modules-images":"@natgeo/modules-images",react:"react"}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d(a("react")),f=d(a("dompurify")),g=d(a("../icon/Icon")),h=function(a){var b,c=a.className,d=a.icon;if(!d||!d.name||"#none"===d.name.toLowerCase())return b="mt_iconandlabel--horizontal",e.default.createElement("div",{className:c||b},e.default.createElement("span",{dangerouslySetInnerHTML:{__html:f.default.sanitize(a.label)}}));switch(d.align){case"right":return b="mt_iconandlabel--horizontal",e.default.createElement("div",{className:c||b},e.default.createElement("span",{dangerouslySetInnerHTML:{__html:f.default.sanitize(a.label)}}),e.default.createElement(g.default,{name:d.name,align:"right",size:d.size,alt:d.alt}));case"top":return b="mt_iconandlabel--vertical",e.default.createElement("div",{className:c||b},e.default.createElement(g.default,{name:d.name,align:"top",size:d.size,alt:d.alt}),e.default.createElement("span",{dangerouslySetInnerHTML:{__html:f.default.sanitize(a.label)}}));case"bottom":return b="mt_iconandlabel--vertical",e.default.createElement("div",{className:c||b},e.default.createElement("span",{dangerouslySetInnerHTML:{__html:f.default.sanitize(a.label)}}),e.default.createElement(g.default,{name:d.name,align:"bottom",size:d.size,alt:d.alt}));case"left":default:return b="mt_iconandlabel--horizontal",e.default.createElement("div",{className:c||b},e.default.createElement(g.default,{name:d.name,align:"left",size:d.size,alt:d.alt}),e.default.createElement("span",{dangerouslySetInnerHTML:{__html:f.default.sanitize(a.label)}}))}},i=h;c.default=i},{"../icon/Icon":11,dompurify:"dompurify",react:"react"}],7:[function(a,b,c){"use strict";function d(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return d=function(){return a},a}function e(a){if(a&&a.__esModule)return a;if(null===a||"object"!==g(a)&&"function"!=typeof a)return{default:a};var b=d();if(b&&b.has(a))return b.get(a);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)){var h=e?Object.getOwnPropertyDescriptor(a,f):null;h&&(h.get||h.set)?Object.defineProperty(c,f,h):c[f]=a[f]}return c.default=a,b&&b.set(a,c),c}function f(a){return a&&a.__esModule?a:{default:a}}function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}function k(a,b){return!b||"object"!==g(b)&&"function"!=typeof b?m(a):b}function l(a){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function m(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&o(a,b)}function o(a,b){return(o=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var q=f(a("@natgeo/modules-images")),r=f(a("prop-types")),s=e(a("react")),t=f(a("../fillbutton/FillButton")),u=f(a("../../util/generateHref")),v=f(a("../../util/getBreakpoint")),w=f(a("../../util/getSrcSet")),x=f(a("../../util/ResponsiveEllipsis/ResponsiveEllipsis")),y=f(a("../../util/getUrlParam")),z={card:r.default.shape({link:r.default.shape({label:r.default.string,path:r.default.string.isRequired,title:r.default.string,target:r.default.string,icon:r.default.object}).isRequired,overrides:r.default.shape({backgroundImage:r.default.string,originalImage:r.default.string,logoImage:r.default.string,kickerOverride:r.default.string,titleOverride:r.default.string,originalTitle:r.default.string}),display:r.default.shape({theme:r.default.string,hideTitle:r.default.bool}),tracking_codes:r.default.string})},A={card:{link:{label:null,path:null,title:null,target:"_self",icon:null},overrides:{backgroundImage:null,originalImage:null,logoImage:null,kickerOverride:null,titleOverride:null,originalTitle:null},display:{theme:"negative",hideTitle:!1}},tracking_codes:null},B=function(a){function b(a){var c;return h(this,b),c=k(this,l(b).call(this,a)),p(m(c),"activate",function(){c.activated||c.image&&(c.image.forceLoad(),c.activated=!0)}),c.image=null,c.activated=!1,c}return n(b,a),j(b,[{key:"render",value:function(){var a=this,b=this.props.card,c=b.link||A.card.link,d=b.overrides||A.card.overrides,e=d.backgroundImage,f=d.kickerOverride,g=d.logoImage,h=d.originalImage,i=d.originalTitle,j=d.titleOverride,k=d.renditions,l=b.display||A.card.display,m=l.theme,n=l.hideTitle,o=b.tracking_codes?(0,u.default)(c.path,b.tracking_codes):c.path,p=!n&&(i||j),r=s.default.createElement("h5",{className:"mt_cardstack__card__title mt_heading--h4--1"},s.default.createElement(x.default,{text:j||i,maxLine:"6",basedOn:"words"})),z=b.image&&b.image.croppings&&b.image.croppings.filter(function(a){return"ImmersiveLeadVertical"===a.aspect_ratio_key}),B=z&&z[0]&&(0,w.default)(z[0].renditions),C=k&&k.length?(0,w.default)(k):null,D="mobile"===(0,v.default)()?"1.602":"1.333",E=s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"mt_cardstack__card__background swiper-lazy"},s.default.createElement(q.default,{enableCopyrightMessage:!1,focalPoint:"middle-center",frameAspectRatio:D,lowRezPlaceholder:"mobile"!==(0,v.default)()||"lazyloading:1"!==(0,y.default)("user.testname"),placeholder:"none",ref:function(b){a.image=b},src:e||h,srcset:B||C})),s.default.createElement("div",{className:"mt_cardstack__card__header"},f&&s.default.createElement("div",null,s.default.createElement("h6",{className:"mt_heading--h6--2 mt_cardstack__card__kicker"},f),s.default.createElement("div",{className:"mt_cardstack__card__underline"})),g&&s.default.createElement("img",{alt:"",className:"mt_cardstack__card__logo",src:g}),!g&&p&&r),s.default.createElement("div",{className:"mt_cardstack__card__footer"},p&&g&&r,c.label?s.default.createElement("div",{className:"mt_cardstack__card__button"},s.default.createElement(t.default,{icon:c.icon,label:c.label,type:"button",style:"primary",inverse:"negative"===m})):null),s.default.createElement("div",{className:"mt_cardstack__card__gradient ".concat(p&&g?"mt_cardstack__card__overlay":"")}),s.default.createElement("div",{className:"mt_cardstack__card__shadow"}));return o?s.default.createElement("a",{"data-index":b.index,href:o,target:c.target||"_self",className:"mt_cardstack__card__container ".concat(m?"mt_cardstack__card__theme--".concat(m):"mt_cardstack__card__theme--negative")},E):s.default.createElement("div",{"data-index":b.index,className:"mt_cardstack__card__container ".concat(m?"mt_cardstack__card__theme--".concat(m):"mt_cardstack__card__theme--negative")},E)}}]),b}(s.PureComponent);B.defaultProps=A,B.propTypes=z;var C=B;c.default=C},{"../../util/ResponsiveEllipsis/ResponsiveEllipsis":12,"../../util/generateHref":15,"../../util/getBreakpoint":16,"../../util/getSrcSet":17,"../../util/getUrlParam":18,"../fillbutton/FillButton":10,"@natgeo/modules-images":"@natgeo/modules-images","prop-types":"prop-types",react:"react"}],8:[function(a,b,c){"use strict";function d(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return d=function(){return a},a}function e(a){if(a&&a.__esModule)return a;if(null===a||"object"!==g(a)&&"function"!=typeof a)return{default:a};var b=d();if(b&&b.has(a))return b.get(a);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)){var h=e?Object.getOwnPropertyDescriptor(a,f):null;h&&(h.get||h.set)?Object.defineProperty(c,f,h):c[f]=a[f]}return c.default=a,b&&b.set(a,c),c}function f(a){return a&&a.__esModule?a:{default:a}}function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function h(){return h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h.apply(this,arguments)}function i(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function j(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?i(Object(c),!0).forEach(function(b){w(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):i(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function k(a){return n(a)||m(a)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function n(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function p(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function q(a,b,c){return b&&p(a.prototype,b),c&&p(a,c),a}function r(a,b){return!b||"object"!==g(b)&&"function"!=typeof b?t(a):b}function s(a){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function t(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function u(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&v(a,b)}function v(a,b){return(v=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function w(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var x=f(a("classnames")),y=f(a("lodash/debounce")),z=f(a("dompurify")),A=f(a("@natgeo/modules-images")),B=f(a("prop-types")),C=e(a("react")),D=f(a("react-dom")),E=f(a("react-id-swiper")),F=f(a("lodash/throttle")),G=f(a("uuid/v4")),H=f(a("velocity-animate")),I=f(a("./Card")),J=f(a("../dotpagination/DotPagination")),K=f(a("../../util/getBreakpoint")),L=f(a("../../util/getSrcSet")),M=f(a("../_shared/imagegradient/ImageGradient")),N=f(a("../../util/swiperUtil/keyboard")),O=f(a("../_shared/multibg/MultiBG")),P=f(a("../../util/generateHref")),Q={animate:B.default.bool,cards:B.default.array,heading:B.default.string,keyboard:B.default.bool,cards_displayed:B.default.oneOf([3,5]),loop:B.default.bool,theme:B.default.string,logo:B.default.shape({image:B.default.object,cta_link:B.default.object})},R={animate:!0,cards:[],heading:null,keyboard:!0,cards_displayed:5,loop:!1,theme:"negative",logo:{image:null,cta_link:{}}},S=function(a){function b(a){var c;o(this,b),c=r(this,s(b).call(this,a)),w(t(c),"onSlideClick",function(a){var b=a.currentTarget;b.classList.contains("swiper-slide-active")||(a.preventDefault(),c.swiper.slideTo(b.dataset.index))}),w(t(c),"cleanupCardClasses",function(){var a=k(c.swiper.el.children[0].children);a.map(function(a){a.classList.contains("swiper-slide-next-next")&&a.classList.remove("swiper-slide-next-next"),a.classList.contains("swiper-slide-prev-prev")&&a.classList.remove("swiper-slide-prev-prev")})}),c.state={showPagination:!0};var d=a.cards.map(function(a,b){return j({},a,{},{index:b})});if("desktop"===(0,K.default)()){if(a.loop&&a.cards.length>=3){c.activeIndex=a.cards.length+1;var e=[].concat(k(a.cards.splice(-1,a.cards.length)),k(a.cards));c.state={cards:[].concat(k(e),k(e),k(e))}}a.cards.length>=5?a.loop||(c.activeIndex=2,c.state={cards:[].concat(k(a.cards.splice(-2,a.cards.length)),k(a.cards))}):a.cards.length>=3?a.loop||(c.activeIndex=1,c.state={cards:[].concat(k(a.cards.splice(-1,a.cards.length)),k(a.cards))}):a.loop||(c.activeIndex=0,c.state={cards:a.cards})}else if(a.loop&&a.cards.length>=3){c.activeIndex=a.cards.length+1;var f=[].concat(k(d.splice(-1,d.length)),k(d));c.state={cards:[].concat(k(f),k(f),k(f))}}else if(a.loop&&3===a.cards.length){c.activeIndex=a.cards.length+1;var g=[].concat(k(a.cards.splice(-1,a.cards.length)),k(a.cards));c.state={cards:[].concat(k(g),k(g),k(g))}}else c.activeIndex=0,c.state={cards:d};return c.activeCard=null,c.adjustCardStack=c.adjustCardStack.bind(t(c)),c.cardStack=null,c.cardStackWrapper=null,c.dotClickHandler=c.dotClickHandler.bind(t(c)),c.id=(0,G.default)(),c.keyboard=a.keyboard?{}:null,c.lazyLoadImages=c.lazyLoadImages.bind(t(c)),c.needsInitialSetup=!1,c.nextButton=null,c.nextSlide=c.nextSlide.bind(t(c)),c.prevButton=null,c.prevIndex=c.activeIndex,c.prevSlide=c.prevSlide.bind(t(c)),c.nextCard=null,c.prevCard=null,c.secondNextCard=null,c.secondPrevCard=null,c.setVisibleCards=c.setVisibleCards.bind(t(c)),c.setWrapperWidth=c.setWrapperWidth.bind(t(c)),c.slideChange=c.slideChange.bind(t(c)),c.swiper=null,c.updateNavigation=c.updateNavigation.bind(t(c)),c.handleResize=(0,y.default)(c.adjustCardStack,300),a.animate&&(c.animateIn=c.animateIn.bind(t(c)),c.handleAnimate=(0,F.default)(c.animateIn,300),c.animated=!1),c.cardRefs=C.default.createRef(),c}return u(b,a),q(b,[{key:"componentDidMount",value:function(){this.state.cards.length>0&&(this.props.keyboard&&(this.keyboard=new N.default("#mt_cardstack-".concat(this.id),this.prevSlide,this.nextSlide),this.keyboard.init()),window.addEventListener("resize",this.handleResize,!1),this.props.animate&&window.addEventListener("scroll",this.handleAnimate,!1),this.adjustCardStack(!1))}},{key:"componentDidUpdate",value:function(a,b){this.swiper&&(this.props.keyboard&&(this.keyboard.remove(),this.keyboard=new N.default("#mt_cardstack-".concat(this.id),this.prevSlide,this.nextSlide),this.keyboard.init()),b.stretch!==this.state.stretch&&(this.setWrapperWidth(),this.props.animate&&!this.animated&&this.prepAnimation()),this.activeIndex=this.swiper.activeIndex),this.needsInitialSetup&&(this.slideChange(!1),this.setWrapperWidth(),this.props.animate&&this.prepAnimation(),this.needsInitialSetup=!1)}},{key:"componentWillUnmount",value:function(){this.props.keyboard&&this.keyboard.remove&&this.keyboard.remove(),window.removeEventListener("resize",this.handleResize,!1),this.props.animate&&window.removeEventListener("resize",this.handleAnimate,!1)}},{key:"setWrapperWidth",value:function(){var a=function(a,b,c){if(a&&b&&c){var d=2*Math.abs(a-b)+c;return d}return null};if(this.swiper){var b,c,d;if(this.activeCard){var e=this.activeCard.getBoundingClientRect(),f=e.right,g=e.left;c=e.width,5===this.props.cards_displayed&&this.secondNextCard?(b=f,d=this.secondNextCard.getBoundingClientRect().right):5===this.props.cards_displayed&&this.secondPrevCard?(b=g,d=this.secondPrevCard.getBoundingClientRect().left):this.nextCard?(b=f,d=this.nextCard.getBoundingClientRect().right):this.prevCard?(b=g,d=this.prevCard.getBoundingClientRect().left):(c=0,d=0);var h=a(d,b,c);this.cardStackWrapper.style.width=null!==h?"".concat(h,"px"):null}}}},{key:"setVisibleCards",value:function(){this.swiper&&this.swiper.el&&(this.activeCard=this.swiper.el.children[0].children[this.swiper.activeIndex],this.nextCard=this.activeCard&&this.activeCard.nextSibling,this.prevCard=this.activeCard&&this.activeCard.previousSibling,this.secondNextCard=this.nextCard&&this.nextCard.nextSibling,this.secondPrevCard=this.prevCard&&this.prevCard.previousSibling,this.cleanupCardClasses(),5===this.props.cards_displayed&&(this.secondNextCard&&this.secondNextCard.classList.add("swiper-slide-next-next"),this.secondPrevCard&&this.secondPrevCard.classList.add("swiper-slide-prev-prev")),this.activeIndex=this.swiper.activeIndex)}},{key:"animateIn",value:function(){if(this.swiper&&!this.animated){this.activeCard=this.activeCard||D.default.findDOMNode(this.cardStack).getElementsByClassName("swiper-slide-active")[0];var a=this.activeCard.getBoundingClientRect(),b=a.top,c=a.bottom,d=b<window.innerHeight&&c>=0;d&&(this.nextCard&&((0,H.default)(this.nextCard.childNodes[0],{translateX:"0px"},{duration:800},"easeOutCirc"),this.nextCard.childNodes[0].classList.remove("cardstack-animate-card")),this.prevCard&&((0,H.default)(this.prevCard.childNodes[0],{translateX:"0px"},{duration:800},"easeOutCirc"),this.prevCard.childNodes[0].classList.remove("cardstack-animate-card")),this.secondNextCard&&((0,H.default)(this.secondNextCard.childNodes[0],{translateX:"0px"},{duration:750,delay:100},"easeOutCirc"),this.secondNextCard.childNodes[0].classList.remove("cardstack-animate-card")),this.secondPrevCard&&((0,H.default)(this.secondPrevCard.childNodes[0],{translateX:"0px"},{duration:750,delay:100},"easeOutCirc"),this.secondPrevCard.childNodes[0].classList.remove("cardstack-animate-card")),this.animated=!0,window.removeEventListener("scroll",this.handleAnimate,!1))}}},{key:"adjustCardStack",value:function(){var a,b,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0,d=D.default.findDOMNode(this.cardStack);this.activeCard=d.getElementsByClassName("swiper-slide-active")[0];var e=this.activeCard?this.activeCard.offsetWidth:null,f=d?d.offsetWidth:null;5===this.props.cards_displayed?375>f?(a=80,b=.07):480>f?(a=80,b=.08):568>f?(a=80,b=.09):650>f?(a=80,b=.1):725>f?(a=80,b=.15):768>f?(a=80,b=.2):850>f?(a=215,b=.25):900>f?(a=215,b=.3):1e3>f?(a=215,b=.35):1120>f?(a=215,b=.47):1440>f?(a=215,b=.4):(a=215,b=.6):3===this.props.cards_displayed&&(375>f?(a=80,b=.1):480>f?(a=80,b=.12):568>f?(a=80,b=.15):650>f?(a=80,b=.15):725>f?(a=80,b=.24):768>f?(a=80,b=.35):850>f?(a=215,b=.5):900>f?(a=215,b=.6):1e3>f?(a=215,b=.65):1120>f?(a=215,b=.8):1440>f?(a=215,b=.8):(a=215,b=1)),c||(this.activeCard=d.getElementsByClassName("swiper-slide")[this.activeIndex]);var g=e-e*b;this.setState({depth:a,spread:b,stretch:g,showPagination:"desktop"!==(0,K.default)()}),c||(this.needsInitialSetup=!0)}},{key:"dotClickHandler",value:function(a){var b=this;if(this.swiper)if(this.props.loop){var c=function(){var a=b.activeIndex,c=b.props.cards.length,d=b.state.cards.length,e=0;return c+1>a?e=1:a>=c+1&&2*c>=a?e=c+1:a>2*c&&d>a&&(e=2*c+1),e},d=c()+a;this.swiper.slideTo(d)}else this.swiper.slideTo(a)}},{key:"lazyLoadImages",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0,b=this.swiper.previousIndex,c=this.swiper.activeIndex;if(this.swiper)if(a)c>b&&this["card_ref_".concat(this.activeIndex+2)]&&(this["card_ref_".concat(this.activeIndex+2)].activate(),this.swiper.lazy.loadInSlide(this.activeIndex+2)),b>c&&this["card_ref_".concat(this.activeIndex-2)]&&(this["card_ref_".concat(this.activeIndex-2)].activate(),this.swiper.lazy.loadInSlide(this.activeIndex-2));else if(this.swiper.lazy.loadInSlide(this.activeIndex),this.swiper.lazy.loadInSlide(this.activeIndex+1),this.swiper.lazy.loadInSlide(this.activeIndex+2),this.swiper.lazy.loadInSlide(this.activeIndex+3),this.props.loop)for(var d=0;d<this.state.cards.length;d+=1)this["card_ref_".concat(d)].activate(),this.swiper.lazy.loadInSlide(d)}},{key:"prepAnimation",value:function(){function a(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,e=1.5;a>800&&900>a&&(e=1.3),a>=900&&(e=1.15);var f="".concat(b/e*c*d,"px");return f}var b=this;if(this.swiper&&!this.animated){this.activeCard=this.activeCard||D.default.findDOMNode(this.cardStack).getElementsByClassName("swiper-slide-active")[0];var c=this.activeCard.getBoundingClientRect(),d=this.cardStack.offsetWidth,e=c.width;this.nextCard&&(this.nextCard.childNodes[0].classList.add("cardstack-animate-card"),(0,H.default)(this.nextCard.childNodes[0],{translateX:a(d,e,this.state.spread,-1)})),this.prevCard&&(this.prevCard.childNodes[0].classList.add("cardstack-animate-card"),(0,H.default)(this.prevCard.childNodes[0],{translateX:a(d,e,this.state.spread,1)})),this.secondNextCard&&(this.secondNextCard.childNodes[0].classList.add("cardstack-animate-card"),(0,H.default)(this.secondNextCard.childNodes[0],{translateX:a(d,e,this.state.spread,-2)})),this.secondPrevCard&&(this.secondPrevCard.childNodes[0].classList.add("cardstack-animate-card"),(0,H.default)(this.secondPrevCard.childNodes[0],{translateX:a(d,e,this.state.spread,2)})),setTimeout(function(){b.animateIn()},1e3)}}},{key:"prevSlide",value:function(){this.swiper&&(this.direction="prev",this.swiper.slidePrev())}},{key:"nextSlide",value:function(){this.swiper&&(this.direction="next",this.swiper.slideNext())}},{key:"isPrev",value:function(){return"next"!==this.direction||this.swiper.previousIndex>this.swiper.activeIndex}},{key:"isNext",value:function(){return"prev"!==this.direction||this.swiper.previousIndex<this.swiper.activeIndex}},{key:"slideChange",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0;this.swiper&&this.swiper.initialized&&(this.lazyLoadImages(b),this.setVisibleCards(b),this.activeCard&&this.dots&&this.dots.setActiveIndex(Number(this.activeCard.children[0].dataset.index)),this.state.cards.length>1&&this.updateNavigation(b),this.swiper.once("slideNextTransitionEnd",function(){a.isNext()&&(a.nextButton.disabled=!0,a.props.loop&&(a.cardStackWrapper.classList.add("mt_cardstack__wrapper--transitioning"),a.activeIndex===a.state.cards.length-3&&a.props.cards.length>3?a.activeIndex=a.state.cards.length-a.props.cards.length-4:a.activeIndex===a.state.cards.length-2?a.activeIndex=a.state.cards.length-a.props.cards.length-3:a.activeIndex===a.state.cards.length-1?a.activeIndex=a.state.cards.length-a.props.cards.length-2:a.activeIndex===a.state.cards.length&&(a.activeIndex=a.state.cards.length-a.props.cards.length),a.swiper.slideTo(a.activeIndex,0),a.setVisibleCards(b),setTimeout(function(){a.cardStackWrapper.classList.remove("mt_cardstack__wrapper--transitioning")},300)),a.nextButton.disabled=!1)}),this.swiper.once("slidePrevTransitionEnd",function(){a.isPrev()&&(a.prevButton.disabled=!0,a.props.loop&&(a.cardStackWrapper.classList.add("mt_cardstack__wrapper--transitioning"),0===a.activeIndex?a.activeIndex=a.props.cards.length+1:1===a.activeIndex?a.activeIndex=a.props.cards.length+2:2===a.activeIndex?a.activeIndex=a.props.cards.length+3:3===a.activeIndex&&3===a.props.cards.length&&(a.activeIndex=a.props.cards.length+4),a.swiper.slideTo(a.activeIndex,0),a.setVisibleCards(b),setTimeout(function(){a.cardStackWrapper.classList.remove("mt_cardstack__wrapper--transitioning")},300)),a.prevButton.disabled=!1)}))}},{key:"updateNavigation",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0,b=this.swiper.previousIndex,c=this.swiper.activeIndex;c>b&&!this.props.loop&&(this.swiper.activeIndex===this.state.cards.length-1&&(this.nextButton.classList.add("swiper-button-disabled"),
this.nextButton.setAttribute("aria-disabled",!0)),this.prevButton.classList.contains("swiper-button-disabled")&&(this.prevButton.classList.remove("swiper-button-disabled"),this.prevButton.setAttribute("aria-disabled",!1))),a&&!(b>c)||this.props.loop||(0===this.swiper.activeIndex&&(this.prevButton.classList.add("swiper-button-disabled"),this.prevButton.setAttribute("aria-disabled",!0)),this.nextButton.classList.contains("swiper-button-disabled")&&(this.nextButton.classList.remove("swiper-button-disabled"),this.nextButton.setAttribute("aria-disabled",!1)))}},{key:"render",value:function(){var a=this,b=this.state,c=b.depth,d=b.stretch,e=this.props,f=e.heading,g=e.theme,i=e.description,k=e.sponsor_label,l=e.logo,m=e.cta_link,n=e.background,o={simulateTouch:!1,preventInteractionOnTransition:!0,initialSlide:this.activeIndex,allowSlidePrev:!0,allowSlideNext:!0,effect:"coverflow",centeredSlides:!0,observer:!0,observeParents:!0,preloadImages:!1,rebuildOnUpdate:!0,slidesPerView:"auto",coverflowEffect:{rotate:0,stretch:d,depth:c,modifier:1,slideShadows:!1},runCallbacksOnInit:!0,on:{slideChange:this.slideChange},loop:"mobile"===(0,K.default)()&&this.props.loop};this.slides=this.state.cards&&this.state.cards.map(function(b,c){return C.default.createElement("div",{className:"mt_cardstack__card","data-index":c,key:"card-".concat(c),onClick:a.onSlideClick},C.default.createElement(I.default,{card:b,ref:function(b){a["card_ref_".concat(c)]=b}}))}),1===this.slides.length&&(o.allowSlideNext=!1,o.allowSlidePrev=!1,o.coverflowEffect.stretch=0);var p=k||l&&l.image,q=l&&l.image&&l.image.renditions?(0,L.default)(l.image.renditions):null,r=n&&"image"===n.content_type?n.image:null,s=r&&r.renditions&&r.renditions.length?(0,L.default)(r.renditions):null,t=n&&"gradient"===n.content_type,u=(0,x.default)("mt_cardstack__container",{"mt_cardstack__container--sponsored":p}),v=l&&l.cta_link?l.cta_link:null;return this.state.cards.length>0?C.default.createElement("div",{id:"mt_cardstack-".concat(this.id),className:"mt_cardstack ".concat(g?"mt_cardstack--".concat(g):"")},r&&C.default.createElement("div",{className:"mt_cardstack__background"},C.default.createElement(M.default,{theme:g,image:j({},r,{srcset:s,lowRezPlaceholder:!0})})),t&&n&&C.default.createElement(O.default,{data:n}),C.default.createElement("div",{className:u,ref:function(b){return a.cardStack=b}},C.default.createElement("div",{className:"mt_cardstack__text"},p&&C.default.createElement("div",{className:"mt_cardstack__sponsor"},k&&C.default.createElement("div",{className:"mt_cardstack__sponsor__label",dangerouslySetInnerHTML:{__html:z.default.sanitize(k)}}),l&&l.image&&C.default.createElement("a",{href:v.uri,target:v.target,className:"mt_cardstack__sponsor__logo"},C.default.createElement(A.default,h({},l.image,{src:l.image.uri,srcset:q})))),f&&C.default.createElement("h5",{className:"mt_cardstack__heading mt_heading--h5--2",dangerouslySetInnerHTML:{__html:z.default.sanitize(f)}}),i&&C.default.createElement("h6",{className:"mt_cardstack__description",dangerouslySetInnerHTML:{__html:z.default.sanitize(i)}})),C.default.createElement("div",{className:"mt_cardstack__wrapper",ref:function(b){return a.cardStackWrapper=b}},C.default.createElement(E.default,h({},o,{ref:function(b){return a.swiper=null!==b?b.swiper:null}}),this.slides)),this.state.cards.length>1&&C.default.createElement("button",{type:"button","aria-label":"Next slide",className:"swiper-button-next",onClick:this.nextSlide,ref:function(b){return a.nextButton=b},tabIndex:0}),this.state.cards.length>1&&C.default.createElement("button",{type:"button","aria-label":"Previous slide",className:"swiper-button-prev",onClick:this.prevSlide,ref:function(b){return a.prevButton=b},tabIndex:0}),this.state.showPagination&&this.props.cards.length>1&&C.default.createElement(J.default,{clickable:!0,onClick:this.dotClickHandler,ref:function(b){return a.dots=b},theme:"positive"===g?"light":"dark",total:this.props.cards.length}),m&&m.link_text&&C.default.createElement("div",{className:"mt_cardstack__cta"},C.default.createElement("a",{href:(0,P.default)(m.uri,m.tracking_codes),target:m.target,title:m.seo_title,className:"mt_cardstack__cta__link"},m.link_text)))):null}}]),b}(C.PureComponent);S.defaultProps=R,S.propTypes=Q;var T=S;c.default=T},{"../../util/generateHref":15,"../../util/getBreakpoint":16,"../../util/getSrcSet":17,"../../util/swiperUtil/keyboard":19,"../_shared/imagegradient/ImageGradient":4,"../_shared/multibg/MultiBG":5,"../dotpagination/DotPagination":9,"./Card":7,"@natgeo/modules-images":"@natgeo/modules-images",classnames:"classnames",dompurify:"dompurify","lodash/debounce":"lodash/debounce","lodash/throttle":"lodash/throttle","prop-types":"prop-types",react:"react","react-dom":"react-dom","react-id-swiper":"react-id-swiper","uuid/v4":24,"velocity-animate":"velocity-animate"}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return e=function(){return a},a}function f(a){if(a&&a.__esModule)return a;if(null===a||"object"!==g(a)&&"function"!=typeof a)return{default:a};var b=e();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)){var h=d?Object.getOwnPropertyDescriptor(a,f):null;h&&(h.get||h.set)?Object.defineProperty(c,f,h):c[f]=a[f]}return c.default=a,b&&b.set(a,c),c}function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function h(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function i(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?h(Object(c),!0).forEach(function(b){r(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):h(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(a,b){return!b||"object"!==g(b)&&"function"!=typeof b?o(a):b}function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function o(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&q(a,b)}function q(a,b){return(q=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function r(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=f(a("react")),t=d(a("prop-types")),u=d(a("classnames")),v=d(a("lodash/debounce")),w={activeIndex:t.default.number,clickable:t.default.bool,onClick:t.default.func,size:t.default.number,theme:t.default.string,total:t.default.number.isRequired},x={activeIndex:0,clickable:!0,size:5,theme:"light",onClick:function(){}},y=function(a){function b(a){var c;return j(this,b),c=m(this,n(b).call(this,a)),r(o(c),"setActiveIndex",function(a){var b,d=0,e=a<c.state.activeIndex,f=c.props.activeIndex>0||a>c.state.activeIndex,g=2>a,h=a>=c.state.total-3;c.state.scrollable&&e&&a<c.state.minBoxLimit&&!g&&(a<c.state.minBoxLimit&&(d+=c.state.minBoxLimit-a),b={listPos:c.state.listPos+c.getTrueDotWidth()*d,minBoxLimit:c.state.minBoxLimit-d,maxBoxLimit:c.state.maxBoxLimit-d,relMin:c.state.leftHiddenCount-d,relMax:c.state.leftHiddenCount-d+(c.state.size-1),leftHiddenCount:c.state.leftHiddenCount-d,rightHiddenCount:c.state.rightHiddenCount+d}),c.state.scrollable&&f&&a>c.state.maxBoxLimit&&!h&&(a>c.state.maxBoxLimit&&(d+=a-c.state.maxBoxLimit),b={listPos:c.state.listPos-c.getTrueDotWidth()*d,minBoxLimit:c.state.minBoxLimit+d,maxBoxLimit:c.state.maxBoxLimit+d,relMin:c.state.leftHiddenCount+d,relMax:c.state.leftHiddenCount+d+(c.state.size-1),leftHiddenCount:c.state.leftHiddenCount+d,rightHiddenCount:c.state.rightHiddenCount-d}),e&&g&&(b={relMin:0,relMax:c.state.size-1,minBoxLimit:c.state.size-3,maxBoxLimit:c.state.size-3,listPos:0,leftHiddenCount:0,rightHiddenCount:c.state.total-c.state.size}),f&&h&&(b={relMin:c.state.total-c.state.size,relMax:c.state.total-1,minBoxLimit:c.state.total-c.state.size+2,maxBoxLimit:c.state.total-3,listPos:-(c.state.total-c.state.size)*c.getTrueDotWidth(),leftHiddenCount:c.state.total-c.state.size,rightHiddenCount:0}),c.setState(i({activeIndex:a,minLimit:g,maxLimit:h,next:f,prev:e},b))}),r(o(c),"onClick",function(a){c.setActiveIndex(parseInt(a.target.dataset.index,10)),c.props.onClick(parseInt(a.target.dataset.index,10))}),c.setViewableWidth=c.setViewableWidth.bind(o(c)),c.handleResize=(0,v.default)(c.handleResize,300).bind(o(c)),c.ul=null,c.state={activeIndex:a.activeIndex,clickable:a.clickable,dotMargin:6,dotWidth:12,listPos:0,minBoxLimit:a.size-3,maxBoxLimit:a.size-3,minLimit:a.activeIndex<0,maxLimit:a.activeIndex<a.total-3,relMin:a.activeIndex,relMax:a.size-1,leftHiddenCount:0,rightHiddenCount:a.total-a.size,scrollable:a.size<a.total,size:a.size<5?5:a.size,theme:a.theme,total:a.total,trueDotWidth:18,viewableWidth:"".concat(18*a.size-6,"px")},c}return p(b,a),l(b,[{key:"componentDidMount",value:function(){this.ul=this.listRef,this.setTransform(this.state.listPos),this.setViewableWidth(),this.props.activeIndex>0&&this.setActiveIndex(this.state.activeIndex),window.addEventListener("resize",this.handleResize)}},{key:"componentWillReceiveProps",value:function(a){a.clickable!==this.state.clickable&&this.setClickable(a.clickable),a.size!==this.state.size&&this.setViewableWidth(a.size,this.state.total),a.total!==this.state.total&&this.setTotal(a.total),a.theme!==this.state.theme&&this.setTheme(a.theme),a.activeIndex!==this.state.activeIndex&&this.setActiveIndex(a.activeIndex)}},{key:"componentDidUpdate",value:function(a,b){this.slideDots(),this.state.total!==b.total&&this.setActiveIndex(this.state.activeIndex)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.setViewableWidth(this.state.size,this.state.total,!0)}},{key:"setTransform",value:function(a){this.listRef.style.webkitTransform="translateX(".concat(a,"px)"),this.listRef.style.transform="translateX(".concat(a,"px)")}},{key:"setClickable",value:function(a){this.setState({clickable:a})}},{key:"setTheme",value:function(a){this.setState({theme:a})}},{key:"setTotal",value:function(a){this.setViewableWidth(this.state.size,a)}},{key:"getTrueDotWidth",value:function(){var a=parseInt(window.getComputedStyle(this.listRef.children[0]).width,10),b=parseInt(window.getComputedStyle(this.listRef.children[0]).marginRight,10);return a+b}},{key:"setViewableWidth",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.size,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.total,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;if(this.dotRef){var e=parseInt(window.getComputedStyle(this.listRef.children[0]).marginRight,10),f=function(b,c){var d=0,e=2>=b,f=b>a.state.total-3;return b>2&&!f?d=-c*(a.state.activeIndex-(a.state.size-3)):e?d=0:f&&(d=-(a.state.total-a.state.size)*c),d};d?this.setState({trueDotWidth:this.getTrueDotWidth(),listPos:f(this.state.activeIndex,this.getTrueDotWidth()),viewableWidth:"".concat(this.getTrueDotWidth()*b-e,"px")}):this.setState({maxBoxLimit:b-3,relMax:b-1,rightHiddenCount:c-b,scrollable:c>b,size:b,total:c,trueDotWidth:this.getTrueDotWidth(),viewableWidth:"".concat(this.getTrueDotWidth()*b-e,"px")})}}},{key:"slideDots",value:function(){this.state.size<this.state.total&&(this.ul.style.transform="translateX(".concat(this.state.listPos,"px)"))}},{key:"renderDots",value:function(){for(var a=this,b=[],c=0;c<this.state.total;c+=1){var d=this.state.total>5&&this.state.size!==this.state.total&&c!==this.state.activeIndex,e=(0,u.default)("mt_pagination__list-item",{"mt_pagination__list-item--active":c===this.state.activeIndex,"mt_pagination__list-item--prev":d&&(this.state.relMin>0&&c===this.state.relMin+1||1===this.state.relMin&&c===this.state.relMin),"mt_pagination__list-item--prev-prev":d&&this.state.relMin>0&&1!==this.state.relMin&&c===this.state.relMin,"mt_pagination__list-item--next":d&&(this.state.relMax<this.state.total-1&&c===this.state.relMax-1||this.state.relMax===this.state.total-2&&c===this.state.relMax),"mt_pagination__list-item--next-next":d&&this.state.relMax<this.state.total-1&&this.state.relMax!==this.state.total-2&&c===this.state.relMax,"mt_pagination__list-item--hidden":c<this.state.leftHiddenCount||c>this.state.relMax}),f={"aria-label":"Slide ".concat(c+1),className:e,"data-index":c,key:"list-item-".concat(c+1),ref:function(b){return a.dotRef=b},onClick:this.state.clickable?this.onClick:void 0},g=s.default.createElement("li",f,s.default.createElement("a",{href:"#"},c+1));b.push(g)}return b}},{key:"render",value:function(){var a=this;return s.default.createElement("nav",{className:"mt_pagination ".concat("light"===this.state.theme?"mt_pagination--light":"mt_pagination--dark"),role:"navigation","aria-label":"Pagination Navigation",style:{width:"".concat(this.state.viewableWidth)}},s.default.createElement("ul",{ref:function(b){return a.listRef=b},className:"mt_pagination__list ".concat(this.state.clickable?"mt_pagination__list--clickable":""),"data-pos":this.state.listPos},this.renderDots()))}}]),b}(s.PureComponent);y.propTypes=w,y.defaultProps=x;var z=y;c.default=z},{classnames:"classnames","lodash/debounce":"lodash/debounce","prop-types":"prop-types",react:"react"}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var f=d(a("react")),g=d(a("prop-types")),h=d(a("classnames")),i=d(a("../../util/generateHref")),j=d(a("../button/Label")),k=d(a("../../util/checkForMobile")),l=function(a){var b,c=a.disabled,d=a.fullWidth,g=a.icon,l=a.inverse,m=a.label,n=a.link,o=a.loading,p=a.size,q=a.style,r=a.type,s=a.className,t=c?"disabled":q;if("link"===r){var u;b=(0,h.default)((u={},e(u,s,!!s),e(u,"mt_fill_btn",!s),e(u,"mt_fill_btn--fullwidth",d!==!1),e(u,"mt_fill_btn--".concat(t,"--inverse"),l),e(u,"no-hover",(0,k.default)()),u),"mt_fill_btn--".concat(t),"mt_fill_btn--".concat(p),"mt_fill_btn--link")}else{var v;b=(0,h.default)((v={},e(v,s,!!s),e(v,"mt_fill_btn",!s),e(v,"mt_fill_btn--fullwidth",d!==!1),e(v,"mt_fill_btn--".concat(t,"--inverse"),l),e(v,"mt_fill_btn--loading",o),e(v,"no-hover",(0,k.default)()),v),"mt_fill_btn--".concat(t),"mt_fill_btn--".concat(p))}var w={className:b,onClick:c?null:a.onClick,onFocus:c?null:a.onFocus,onBlur:c?null:a.onBlur};if("link"===r){var x=n.url||n.uri||"#";return Object.assign(w,{href:c?null:(0,i.default)(x,n.trackingCodes||n.tracking_codes),target:n.target,title:m}),f.default.createElement("a",w,f.default.createElement("div",{className:"fillOne"}),f.default.createElement("div",{className:"fillTwo"}),f.default.createElement("div",{className:"content"},f.default.createElement(j.default,{icon:g,label:m})))}return Object.assign(w,{type:r}),f.default.createElement("button",w,f.default.createElement("div",{className:"fillOne"}),f.default.createElement("div",{className:"fillTwo"}),f.default.createElement("div",{className:"content"},f.default.createElement(j.default,{icon:g,label:m})))};l.propTypes={className:g.default.string,fullWidth:g.default.bool,disabled:g.default.bool,inverse:g.default.bool,label:g.default.string,link:g.default.shape({target:g.default.oneOf(["_self","_parent","_blank","_top"]),title:g.default.string,trackingCodes:g.default.shape({utmSource:g.default.string,utmMedium:g.default.string,utmTerm:g.default.array,utmContent:g.default.string,utmCampaign:g.default.string}),url:g.default.string}),loading:g.default.bool,onClick:g.default.func,onFocus:g.default.func,onBlur:g.default.func,size:g.default.oneOf(["small","large","xlarge"]),style:g.default.oneOf(["primary","secondary","outlined","disabled"]),type:g.default.oneOf(["button","link","submit"])},l.defaultProps={className:"",label:j.default.props,link:{target:"_self",trackingCodes:g.default.shape({utmSource:"",utmMedium:"",utmTerm:[],utmContent:"",utmCampaign:""}),url:g.default.string},loading:!1,onClick:function(){return!1},onFocus:function(){return!1},onBlur:function(){return!1},fullWidth:!1,disabled:!1,inverse:!1,size:"large",style:"primary",type:"button"};var m=l;c.default=m},{"../../util/checkForMobile":14,"../../util/generateHref":15,"../button/Label":6,classnames:"classnames","prop-types":"prop-types",react:"react"}],11:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return e=function(){return a},a}function f(a){if(a&&a.__esModule)return a;if(null===a||"object"!==g(a)&&"function"!=typeof a)return{default:a};var b=e();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)){var h=d?Object.getOwnPropertyDescriptor(a,f):null;h&&(h.get||h.set)?Object.defineProperty(c,f,h):c[f]=a[f]}return c.default=a,b&&b.set(a,c),c}function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}function k(a,b){return!b||"object"!==g(b)&&"function"!=typeof b?l(a):b}function l(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function m(a){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&o(a,b)}function o(a,b){return(o=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var p=f(a("react")),q=d(a("prop-types")),r=function(a){function b(){return h(this,b),k(this,m(b).apply(this,arguments))}return n(b,a),j(b,[{key:"render",value:function(){var a="mt_icon ";return"large"===this.props.size&&(a+="mt_icon--large "),this.props.align&&(a+="mt_icon--".concat(this.props.align)),this.props.color&&(a+=" mt_color--".concat(this.props.color)),p.default.createElement("svg",{className:a},p.default.createElement("title",null,this.props.alt),p.default.createElement("use",{xlinkHref:this.props.name}))}}]),b}(p.Component);r.defaultProps={size:""},r.propTypes={name:q.default.string,align:q.default.string,size:q.default.string,color:q.default.string,alt:q.default.string};var s=r;c.default=s},{"prop-types":"prop-types",react:"react"}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(){return f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f.apply(this,arguments)}function g(a,b){if(null==a)return{};var c,d,e=h(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function h(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function k(a,b,c){return b&&j(a.prototype,b),c&&j(a,c),a}function l(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?n(a):b}function m(a){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function o(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&p(a,b)}function p(a,b){return(p=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function q(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return function(b){var c=function(c){function d(){var b;return i(this,d),b=l(this,m(d).call(this)),b.state={winWidth:x?window.innerWidth:0},b.handleResize=(0,u.default)(b.handleResize.bind(n(b)),a),b}return o(d,c),k(d,[{key:"componentDidMount",value:function(){this.init=setTimeout(this.handleResize,250),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.init),this.handleResize.cancel(),window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.setState({winWidth:window.innerWidth})}},{key:"render",value:function(){var a=this.props,c=a.innerRef,d=g(a,["innerRef"]);return r.default.createElement(b,f({ref:c},d,this.state))}}]),d}(r.default.Component);return c.displayName="Responsive(".concat(b.displayName||b.name,")"),c.defaultProps={innerRef:function(){}},c}}Object.defineProperty(c,"__esModule",{value:!0}),c.ResponsiveHTMLEllipsis=c.default=void 0;var r=d(a("react")),s=d(a("react-lines-ellipsis/lib/html")),t=d(a("react-lines-ellipsis")),u=d(a("lodash/debounce")),v=q(300)(t.default);c.default=v;var w=q(300)(s.default);c.ResponsiveHTMLEllipsis=w;var x="undefined"!=typeof window},{"lodash/debounce":"lodash/debounce",react:"react","react-lines-ellipsis":"react-lines-ellipsis","react-lines-ellipsis/lib/html":21}],13:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d=!("undefined"==typeof window||!window.document||!window.document.createElement),e=d;c.default=e},{}],14:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d(a("./canUseDOM")),f=function(){};e.default&&(f=function(){return/Android|webOS|iPhone|iPhone Simulator|iPad|iPad Simulator|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)});var g=f;c.default=g},{"./canUseDOM":13}],15:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){function c(a,b,c){var d=b<c.length-1;f+=d?"".concat(a,"+"):a}var e=a,f="",g=d(b);if("string"===g&&"?"===b[0])e="".concat(e).concat(b);else if("object"===g&&b&&b.utmTerm){var h=b.utmTerm;h.forEach(c),e="".concat(e,"?")+"utm_source=".concat(b.utmSource,"&utm_medium=").concat(b.utmMedium,"&utm_term=").concat(f,"&utm_content=").concat(b.utmContent,"&utm_campaign=").concat(b.utmCampaign)}return e}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var f=e;c.default=f},{}],16:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d=function(){var a=document.querySelector("body");return window.getComputedStyle(a,":after").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")||"not available"},e=d;c.default=e},{}],17:[function(a,b,c){"use strict";function d(a){if(a&&a.length>0){var b=[];a.sort(function(a,b){return a.width-b.width});for(var c=0;c<a.length;c++){var d=a[c];b.push("".concat(d.uri," ").concat(d.width,"w"))}return b}return null}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d;c.default=e},{}],18:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d=function(a,b){b||(b=window.location.search),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]".concat(a,"(=([^&#]*)|&|#|$)")),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null},e=d;c.default=e},{}],19:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var g=function(){function a(b,c,e){var f=this;d(this,a),this.container=document.querySelector(b),this.swiper=this.container.querySelector(".swiper-container").swiper,this.handleKeyboard=this.handleKeyboard.bind(this),this.prevSlideFn=c||function(){return f.swiper.slidePrev()},this.nextSlideFn=e||function(){return f.swiper.slideNext()}}return f(a,[{key:"handleKeyboard",value:function(a){var b=a.keyCode||a.charCode;if(this.swiper.el){var c=this.container.getBoundingClientRect(),d=c.top,e=c.top+c.height,f=document.documentElement.clientHeight;d>0&&f>e&&(37===b&&this.prevSlideFn(),39===b&&this.nextSlideFn())}}},{key:"init",value:function(){document.addEventListener("keydown",this.handleKeyboard)}},{key:"remove",value:function(){document.removeEventListener("keydown",this.handleKeyboard)}}]),a}(),h=g;c.default=h},{}],20:[function(a,b,c){"use strict";b.exports={canvasStyle:{position:"absolute",bottom:0,left:0,height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,border:"none"},mirrorProps:["box-sizing","width","font-size","font-weight","font-family","font-style","letter-spacing","text-indent","white-space","word-break","padding-left","padding-right"]}},{}],21:[function(a,b,c){"use strict";function d(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if("letters"!==b&&"words"!==b)throw new Error("Unsupported options basedOn: "+b);if(a.nodeType===Node.TEXT_NODE){var c=document.createDocumentFragment(),d=void 0;switch(b){case"words":d=a.textContent.split(/\b|(?=\W)/);break;case"letters":d=Array.from(a.textContent)}d.forEach(function(a){c.appendChild(i(a))}),a.parentNode.replaceChild(c,a)}else if(a.nodeType===Node.ELEMENT_NODE)for(var e=[].slice.call(a.childNodes),f=e.length,g=0;f>g;g++)h(e[g],b)}function i(a){var b=document.createElement("span");return b.className="LinesEllipsis-unit",b.textContent=a,b}function j(a){a.parentNode.replaceChild(document.createTextNode(a.textContent),a)}function k(a,b){if(b.contains(a)&&a!==b){for(;a.nextElementSibling;)a.parentNode.removeChild(a.nextElementSibling);k(a.parentNode,b)}}function l(a){for(var b=a;b=b.parentNode;)if(/p|div|main|section|h\d|ul|ol|li/.test(b.tagName.toLowerCase()))return b}function m(a){return!(!a.offsetHeight||!a.offsetWidth&&!/\S/.test(a.textContent))}var n=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},o=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),p=a("react"),q=a("./common"),r=q.canvasStyle,s=q.mirrorProps,t=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={html:a.unsafeHTML,clamped:!1},c.canvas=null,c.maxLine=0,c.nlUnits=[],c}return g(b,a),o(b,[{key:"componentDidMount",value:function(){this.initCanvas(),this.reflow(this.props)}},{key:"componentWillReceiveProps",value:function(a){a.winWidth!==this.props.winWidth&&this.copyStyleToCanvas(),this.reflow(a)}},{key:"componentWillUnmount",value:function(){this.canvas.parentNode.removeChild(this.canvas)}},{key:"initCanvas",value:function(){if(!this.canvas){var a=this.canvas=document.createElement("div");a.className="LinesEllipsis-canvas "+this.props.className,this.copyStyleToCanvas(),Object.keys(r).forEach(function(b){a.style[b]=r[b]}),document.body.appendChild(a)}}},{key:"copyStyleToCanvas",value:function(){var a=this,b=window.getComputedStyle(this.target);s.forEach(function(c){a.canvas.style[c]=b[c]})}},{key:"reflow",value:function(a){this.maxLine=+a.maxLine||1,this.canvas.innerHTML=a.unsafeHTML;var b=a.basedOn||/^[\x00-\x7F]+$/.test(a.unsafeHTML)?"words":"letters";h(this.canvas,b);var c=this.putEllipsis(this.calcIndexes());this.setState({clamped:c}),c&&this.setState({html:this.canvas.innerHTML})}},{key:"calcIndexes",value:function(){var a=[0],b=this.nlUnits=Array.from(this.canvas.querySelectorAll(".LinesEllipsis-unit")),c=b.length;if(!b.length)return a;var d=b.find(m);if(!d)return a;for(var e=1,f=d.offsetTop,g=1;c>g&&!(m(b[g])&&b[g].offsetTop-f>1&&(e++,a.push(g),f=b[g].offsetTop,e>this.maxLine));g++);return a}},{key:"putEllipsis",value:function(a){if(a.length<=this.maxLine)return!1;this.nlUnits=this.nlUnits.slice(0,a[this.maxLine]);var b=this.nlUnits.pop(),c=this.makeEllipsisSpan();do k(b,this.canvas),l(b).appendChild(c),b=this.nlUnits.pop();while(b&&(!m(b)||c.offsetHeight>b.offsetHeight||c.offsetTop>b.offsetTop));return b&&j(b),this.nlUnits.forEach(j),!0}},{key:"makeEllipsisSpan",value:function(){var a=document.createElement("span");a.appendChild(document.createElement("wbr"));var b=document.createElement("span");return b.className="LinesEllipsis-ellipsis",b.textContent=this.props.ellipsis,a.appendChild(b),a}},{key:"isClamped",value:function(){return this.state.clamped}},{key:"render",value:function(){var a=this,b=this.state,c=b.html,e=b.clamped,f=this.props,g=f.component,h=f.className,i=f.unsafeHTML,j=(f.maxLine,f.ellipsis,f.basedOn,d(f,["component","className","unsafeHTML","maxLine","ellipsis","basedOn"]));return p.createElement(g,n({className:"LinesEllipsis "+(e?"LinesEllipsis--clamped":"")+" "+h,ref:function(b){
return a.target=b}},j),p.createElement("div",{dangerouslySetInnerHTML:{__html:e?c:i}}))}}]),b}(p.PureComponent);t.defaultProps={component:"div",unsafeHTML:"",maxLine:1,ellipsis:"",className:""},b.exports=t},{"./common":20,react:"react"}],22:[function(a,b,c){function d(a,b){var c=b||0,d=e;return[d[a[c++]],d[a[c++]],d[a[c++]],d[a[c++]],"-",d[a[c++]],d[a[c++]],"-",d[a[c++]],d[a[c++]],"-",d[a[c++]],d[a[c++]],"-",d[a[c++]],d[a[c++]],d[a[c++]],d[a[c++]],d[a[c++]],d[a[c++]]].join("")}for(var e=[],f=0;256>f;++f)e[f]=(f+256).toString(16).substr(1);b.exports=d},{}],23:[function(a,b,c){var d="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(d){var e=new Uint8Array(16);b.exports=function(){return d(e),e}}else{var f=new Array(16);b.exports=function(){for(var a,b=0;16>b;b++)0===(3&b)&&(a=4294967296*Math.random()),f[b]=a>>>((3&b)<<3)&255;return f}}},{}],24:[function(a,b,c){function d(a,b,c){var d=b&&c||0;"string"==typeof a&&(b="binary"===a?new Array(16):null,a=null),a=a||{};var g=a.random||(a.rng||e)();if(g[6]=15&g[6]|64,g[8]=63&g[8]|128,b)for(var h=0;16>h;++h)b[d+h]=g[h];return b||f(g)}var e=a("./lib/rng"),f=a("./lib/bytesToUuid");b.exports=d},{"./lib/bytesToUuid":22,"./lib/rng":23}]},{},[3]);